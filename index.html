<!DOCTYPE html>
<html>
<head>
    <title>Amicable Numbers</title>
    <meta charset="UTF-8">
    <script type="text/javascript">
        function isAFactor(x, y) {
            if (x % y == 0) return true;
            return false;
        }

        function sum(x) {
            for (var i = 0; i < x.length; i++) {
                sum += x[i];
            }
            return sum;
        }

    </script>
    <style type="text/css">
        div {display: inline-block; padding: 0.5em; margin: 0.5}
    </style>
</head>

<body>
    <div id="form">
    <form>
        <input type="text" id="num1" name="num1">
        <input type="text" id="num2" name="num2">
        <input type="button" onclick="runNumbers();">
    </form></div>

    <div id="result"></div>
    <div id="factors"></div>
    
    <script type="text/javascript">
       function runNumbers() {
            var num1 = document.getElementById("num1").value;
            var num2 = document.getElementById("num2").value;

            let factors1 = [1];
            for (var i = 2; i <= num1; i++) {
                if (isAFactor(num1, i) == true) factors1.push(i);
                document.write(i);
            }
            var sum1 = sum(factors1);
            document.write('sum: ' + sum1);

            let factors2 = [1];
            for (var i = 2; i <= num2; i++) {
                if (isAFactor(num1, i) == true) factors2.push(i);
            }
            var sum2 = sum(factors2);

            if (sum1 != num2 || sum2 != num1) {
                document.getElementById('result').innerHTML = 'The numbers: ${num1} and ${num2} are not amicable';
            } else {
                document.getElementById('result').innerHTML = 'The numbers: ${num1} and ${num2} are amicable';
            }

            document.getElementById('factors').innerHTML = 'Factors of ${num2} are ${factors1.join(', ')}; Factors of ${num2} are ${factors2.join(', ')}';
        }
    </script>

</body>
</html>
